let coreAssets=[];self.addEventListener("install",(function(e){e.waitUntil(caches.open("Shopi").then((function(e){for(let t of coreAssets)e.add(new Request(t));return e})))})),self.addEventListener("fetch",(function(e){let t=e.request;"only-if-cached"===e.request.cache&&"same-origin"!==e.request.mode||(t.headers.get("Accept").includes("c/shopi/index.html")&&e.respondWith(fetch(t).then((function(n){let c=n.clone();return e.waitUntil(caches.open("Shopi").then((function(e){return e.put(t,c)}))),n})).catch((function(e){return caches.match(t).then((function(e){return e||caches.match("/offline.html")}))}))),t.headers.get("Accept").includes("text/css")||t.headers.get("Accept").includes("text/javascript")?e.respondWith(caches.match(t).then((function(e){return e||fetch(t).then((function(e){return e}))}))):t.headers.get("Accept").includes("image")&&e.respondWith(caches.match(t).then((function(n){return n||fetch(t).then((function(n){let c=n.clone();return e.waitUntil(caches.open("app").then((function(e){return e.put(t,c)}))),n}))}))))}));